"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const eventPromised_1 = require("../utils/eventPromised");
const steps_1 = require("../steps");
// TODO:  make param an object
const subscribeCommand = async (email, emit, reject) => {
    try {
        emit("message", "Subscribing to frontity");
        await (0, steps_1.subscribe)(email);
    }
    catch (error) {
        reject(error);
    }
};
exports.default = (email) => 
// EventPromised is a combination of EventEmitter and Promise
new eventPromised_1.EventPromised((resolve, reject, emit) => {
    subscribeCommand(email, emit, reject).then(() => resolve(true));
});
